"use strict";(self.webpackChunkwebgpuaudio=self.webpackChunkwebgpuaudio||[]).push([[85],{4247:(e,t,i)=>{i.r(t),i.d(t,{default:()=>l});i(7294);var s=i(512),a=i(1944),r=i(5281),n=i(6386),o=i(4311),u=i(9407),c=i(2212);const h={mdxPageWrapper:"mdxPageWrapper_j9I6"};var d=i(5893);function l(e){const{content:t}=e,{metadata:{title:i,description:l,frontMatter:f,unlisted:g},assets:m}=t,{keywords:p,wrapperClassName:x,hide_table_of_contents:P}=f,B=m.image??f.image;return(0,d.jsx)(a.FG,{className:(0,s.Z)(x??r.k.wrapper.mdxPages,r.k.page.mdxPage),children:(0,d.jsxs)(n.Z,{children:[(0,d.jsx)(a.d,{title:i,description:l,keywords:p,image:B}),(0,d.jsx)("main",{className:"container container--fluid margin-vert--lg",children:(0,d.jsxs)("div",{className:(0,s.Z)("row",h.mdxPageWrapper),children:[(0,d.jsxs)("div",{className:(0,s.Z)("col",!P&&"col--8"),children:[g&&(0,d.jsx)(c.Z,{}),(0,d.jsx)("article",{children:(0,d.jsx)(o.Z,{children:(0,d.jsx)(t,{})})})]}),!P&&t.toc.length>0&&(0,d.jsx)("div",{className:"col col--2",children:(0,d.jsx)(u.Z,{toc:t.toc,minHeadingLevel:f.toc_min_heading_level,maxHeadingLevel:f.toc_max_heading_level})})]})})]})})}},3684:(e,t,i)=>{i.d(t,{Z:()=>o});var s=i(7294),a=i(8281);var r=i(3947),n=i(5475);const o={React:s,...s,Leva:a.Zf,useControls:a.M4,useDevice:n.Z,button:a.LI,WebAudioOscillator:class{constructor(){this.audioContext=new AudioContext,this.oscillator=this.audioContext.createOscillator(),this.gain=this.audioContext.createGain(),this.oscillator.connect(this.gain),this.gain.gain.value=0,this.gain.connect(this.audioContext.destination),this.oscillator.start()}setVolume(e){this.gain.gain.setTargetAtTime(e,this.audioContext.currentTime,.01)}setFrequency(e){this.oscillator.frequency.setTargetAtTime(e,this.audioContext.currentTime,.01)}setWaveForm(e){this.oscillator.type=e}stop(){this.gain.gain.setTargetAtTime(0,this.audioContext.currentTime,.01),setTimeout((()=>{this.oscillator.stop(),this.oscillator.disconnect(),this.gain.disconnect(),this.audioContext&&this.audioContext.close(),this.audioContext&&(this.audioContext=void 0)}),100)}},WebGpuAudioEngine:r.Z}},3947:(e,t,i)=>{i.d(t,{Z:()=>s});class s{constructor(e,t,i,s,a,r,n,o){this.chunkDurationInSeconds=s,this.device=a,this.chunkNumSamplesPerChannel=t*s,this.chunkNumSamples=e*this.chunkNumSamplesPerChannel,this.chunkBufferSize=this.chunkNumSamples*Float32Array.BYTES_PER_ELEMENT,this.timeInfoBuffer=this.device.createBuffer({size:Float32Array.BYTES_PER_ELEMENT,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST}),this.chunkBuffer=this.device.createBuffer({size:this.chunkBufferSize,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC}),this.chunkMapBuffer=this.device.createBuffer({size:this.chunkBufferSize,usage:GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST}),this.audioParamBuffer=this.device.createBuffer({size:Float32Array.BYTES_PER_ELEMENT*o,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST}),this.audioShaderModule=a.createShaderModule({code:r}),this.pipeline=a.createComputePipeline({layout:"auto",compute:{module:this.audioShaderModule,entryPoint:n,constants:{SAMPLE_RATE:t,WORKGROUP_SIZE:i}}}),this.bindGroup=a.createBindGroup({layout:this.pipeline.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:this.timeInfoBuffer}},{binding:1,resource:{buffer:this.chunkBuffer}},{binding:2,resource:{buffer:this.audioParamBuffer}}]})}}}}]);